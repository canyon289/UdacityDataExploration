install.packages(zoo)
install.packages("zoo")
install.packages("zoo")
cand_plot + ylab("Sum of Contributions") + xlab("Month") + labs(fill = "Name")
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "donation_day")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
#Bind all into one dataframe
df = rbind(ca_df, wi_df)
#Election_tp columns looks like G2012, Splitting into type and year
df["election_year"] = as.integer(substr(df[["election_tp"]], 2,5))
df["election_type"] = substr(df[["election_tp"]], 0,1)
#Convert Contribution receipt to date
df["contb_receipt_dt"] = dmy(df[["contb_receipt_dt"]])
#Remove all objects except final df
rm(list=setdiff(ls(), "df"))
# Load all of the packages that you end up using
# in your analysis in this code chunk.
# Notice that the parameter "echo" was set to FALSE for this code chunk.
# This prevents the code from displaying in the knitted HTML output.
# You should set echo=FALSE for all code chunks in your file.
library(ggplot2)
library(dplyr)
library(lubridate)
library(scales)
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "donation_day")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
#Bind all into one dataframe
df = rbind(ca_df, wi_df)
#Election_tp columns looks like G2012, Splitting into type and year
df["election_year"] = as.integer(substr(df[["election_tp"]], 2,5))
df["election_type"] = substr(df[["election_tp"]], 0,1)
#Convert Contribution receipt to date
df["contb_receipt_dt"] = dmy(df[["contb_receipt_dt"]])
#Remove all objects except final df
rm(list=setdiff(ls(), "df"))
source('~/.active-rstudio-document', echo=TRUE)
setwd("D:/Github/UdacityDataExploration/Project 4")
source('~/.active-rstudio-document', echo=TRUE)
head(df,1)
