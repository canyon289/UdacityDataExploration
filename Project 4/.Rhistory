cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "state")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df["contb_receipt_dt"] = dmy(ca_df[["contb_receipt_dt"]])
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
df = rbind(ca_df, wi_df)
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "state")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df["contb_receipt_dt"] = dmy(ca_df[["contb_receipt_dt"]])
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
df = rbind(ca_df, wi_df)
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "state")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df["contb_receipt_dt"] = dmy(ca_df[["contb_receipt_dt"]])
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
df = rbind(ca_df, wi_df)
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "state")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df["contb_receipt_dt"] = dmy(ca_df[["contb_receipt_dt"]])
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
df = rbind(ca_df, wi_df)
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
setwd("D:/Github/UdacityDataExploration/Project 4")
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "state")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df["contb_receipt_dt"] = dmy(ca_df[["contb_receipt_dt"]])
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
df = rbind(ca_df, wi_df)
names(df)
df["contbr_zip"]
as.int(df["contbr_zip"])
as.integer(df["contbr_zip"])
as.integer(df[["contbr_zip"]])
str(df["contbr_zip"])
a = head(df["election_tp"])
a
substr(a, 1)
substr(a, 1,5)
substr(a, 1,5)
a = head(df[["election_tp"]])
a
substr(a, 1,5)
substr(a, 2,5)
substr(a, 1,2)
substr(a, 1,1)
substr(a, 0,1)
df["election_year"] = substr(df[["election_tp"]], 2,5)
table(df["election_year"])
df["election_type"] = substr(df[["election_tp"]], 0,1)
table(df["election_type"])
df[df["election_year"] == 2012, "election_year"]
df[df["election_year"] == 2102, "election_year"]
df[df["election_year"] == 2102, "election_year"] = 2012
df[df["election_year"] == 2102, "election_year"]
table(df)
table(df["election_year"])
shape(Df)
shape(Df)
shape(df)
dim(df)
dim(df[df["election_year"] != 2008)
dim(df[df["election_year"] != 2008])
a = c(1,2,3,3,4)
a != 3
df["election_year"] != 2008]
df["election_year"] != 2008
dim(df[df["election_year"] != 2008])
b = df[df["election_year"] != 2008]
dim(df[df["election_year"] != 2008,])
dim(df)
head(df[df["election_year"] == ""])
head(df)
head(df[df["election_year"] == ""],)
head(df[df["election_year"] == "",])
head(df[df["election_year"] != "",])
head(df[df["election_year"] == "",])
summary(head(df[df["election_year"] == "",]))
summary(df[df["election_year"] == "",])
summary(head(df[df["election_year"] == "",]))
table(df["election_year"])
table(df["election_year"])
# Need to specify columns due to trailing comma in files
cols = c("cmte_id","cand_id","cand_nm","contbr_nm","contbr_city","contbr_st",
"contbr_zip","contbr_employer","contbr_occupation","contb_receipt_amt",
"contb_receipt_dt","receipt_desc","memo_cd","memo_text","form_tp","file_num",
"tran_id","election_tp", "DISCARD")
#Load and bind california dataframes
ca_df_2012 = read.csv(unzip("data/P00000001-CA_2012.zip"), col.names = cols, header = F, skip = 1)
ca_df_2016 = read.csv(unzip("data/P00000001-CA_2016.zip"), col.names = cols, header = F, skip = 1)
ca_df = rbind(ca_df_2012, ca_df_2016)
#Load and bind Wisconsin files
wi_df_2012 = read.csv(unzip("data/P00000001-WI_2012.zip"), col.names = cols, header = F, skip = 1)
#Some trouble with letters in zip code
#Removing occurence of letterL
wi_df_2012["contbr_zip"] = gsub("L", "", wi_df_2012[["contbr_zip"]])
#Load and bind 2016 data
wi_df_2016 = read.csv(unzip("data/P00000001-WI_2016.zip"), col.names = cols, header = F, skip = 1)
wi_df = rbind(wi_df_2012, wi_df_2016)
#Bind all into one dataframe
df = rbind(ca_df, wi_df)
#election_tp columns looks like G2012, Splitting into type and year
df["election_year"] = substr(df[["election_tp"]], 2,5)
df["election_type"] = substr(df[["election_tp"]], 0,1)
table(df["election_year"])
#2102 is likely a a typo. Converting to 2012
df[df["election_year"] == 2102, "election_year"] = 2012
#Removing all values from 2008
dim(df[df["election_year"] != 2008,])
table(df)
